<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Cash App Clone - Send, spend, save, and invest">
    <title>Cash App</title>
    <script src="https://kit.fontawesome.com/66e3b24af0.js" crossorigin="anonymous"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, #0F0F0F, #1A1A1A);
            color: #E6E6E6;
            line-height: 1.7;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            touch-action: manipulation;
        }
        .app-container {
            max-width: 400px;
            margin: 0 auto;
            background: transparent;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            padding-bottom: 68px;
            overflow: hidden;
        }
        .header {
            background: #1A1A1A;
            padding: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #2D2D2D;
            position: sticky;
            top: 0;
            z-index: 60;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.8);
        }
        .header h1 {
            font-size: 26px;
            font-weight: 800;
            color: #FFF;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .profile-icon {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, #FF407A, #FF8CA1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #FFF;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 0 12px rgba(255, 64, 122, 0.6);
        }
        .profile-icon:hover {
            transform: scale(1.15);
            box-shadow: 0 0 20px rgba(255, 64, 122, 0.8);
        }
        .profile-icon:active {
            transform: scale(0.9);
        }
        .section {
            padding: 24px;
            display: none;
            animation: fadeIn 0.4s ease-out;
        }
        .section.active {
            display: block;
        }
        .card {
            background: linear-gradient(135deg, #1F1F1F, #2B2B2B);
            padding: 22px;
            margin-bottom: 22px;
            border-radius: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(6px);
        }
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 26px rgba(0, 0, 0, 0.7);
        }
        .card:active {
            transform: scale(0.96);
        }
        .card-title {
            font-size: 16px;
            color: #A9A9A9;
            margin-bottom: 10px;
            font-weight: 500;
        }
        .card-amount {
            font-size: 40px;
            font-weight: 800;
            color: #FFF;
            letter-spacing: -0.5px;
        }
        .card-subtext {
            font-size: 15px;
            color: #757575;
            font-weight: 400;
        }
        .action-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 24px;
            gap: 16px;
        }
        .action-buttons button {
            background: #2D2D2D;
            color: #FFF;
            border: none;
            padding: 16px;
            border-radius: 18px;
            width: 48%;
            cursor: pointer;
            font-size: 18px;
            font-weight: 700;
            transition: background 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.5);
            text-transform: uppercase;
        }
        .action-buttons button:hover {
            background: #383838;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
        }
        .action-buttons button:active {
            transform: scale(0.94);
            background: #404040;
        }
        .contact-list {
            display: flex;
            overflow-x: auto;
            padding: 12px 0;
            gap: 16px;
            -webkit-overflow-scrolling: touch;
        }
        .contact-item {
            width: 46px;
            height: 46px;
            border-radius: 50%;
            background: #00D54B;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-size: 20px;
            font-weight: 700;
            flex-shrink: 0;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }
        .contact-item.lyft { background: #EA0B8C; }
        .contact-item.starbucks { background: #00704A; }
        .contact-item.seven-eleven { background: #F58220; }
        .contact-item.doordash { background: #D93A2A; }
        .contact-item:hover {
            transform: scale(1.15);
            box-shadow: 0 0 18px rgba(0, 0, 0, 0.4);
        }
        .contact-item:active {
            transform: scale(0.93);
        }
        .offer {
            display: flex;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid #2D2D2D;
            transition: background 0.3s ease, transform 0.2s ease;
        }
        .offer .contact-item {
            margin-right: 20px;
        }
        .offer span {
            font-size: 17px;
            color: #E6E6E6;
            flex-grow: 1;
            font-weight: 500;
        }
        .offer:hover {
            background: #252525;
            transform: translateX(6px);
        }
        .offer:active {
            transform: scale(0.97);
            background: #2C2C2C;
        }
        .show-more {
            background: #2D2D2D;
            color: #FFF;
            border: none;
            padding: 16px;
            border-radius: 18px;
            width: 100%;
            margin-top: 24px;
            cursor: pointer;
            font-size: 18px;
            font-weight: 700;
            transition: background 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.5);
            text-transform: uppercase;
        }
        .show-more:hover {
            background: #383838;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
        }
        .show-more:active {
            transform: scale(0.95);
            background: #404040;
        }
        .activity-item {
            display: flex;
            justify-content: space-between;
            padding: 20px 0;
            border-bottom: 1px solid #2D2D2D;
            transition: background 0.3s ease, transform 0.2s ease;
        }
        .activity-item .contact-item {
            margin-right: 20px;
        }
        .activity-item div {
            flex-grow: 1;
        }
        .activity-item .card-subtext {
            margin-top: 8px;
        }
        .activity-item:hover {
            background: #252525;
            transform: translateX(6px);
        }
        .activity-item:active {
            transform: scale(0.97);
            background: #2C2C2C;
        }
        .card-image {
            background: linear-gradient(135deg, #FF407A, #9B59B6);
            padding: 30px;
            border-radius: 20px;
            color: #FFF;
            text-align: center;
            margin: 24px 0;
            position: relative;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.8);
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            backdrop-filter: blur(8px);
        }
        .card-image:hover {
            transform: scale(1.04);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.9);
        }
        .card-image .card-details {
            font-size: 22px;
            letter-spacing: 2px;
            margin-top: 12px;
            font-weight: 700;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
        }
        .card-image .card-subtext {
            margin-top: 10px;
            font-weight: 500;
        }
        .card-image .visa {
            position: absolute;
            top: 30px;
            right: 30px;
            font-size: 38px;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
        }
        .card-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 24px;
            gap: 16px;
        }
        .card-actions button {
            background: #2D2D2D;
            color: #FFF;
            border: none;
            padding: 16px;
            border-radius: 18px;
            width: 48%;
            cursor: pointer;
            font-size: 16px;
            font-weight: 700;
            transition: background 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.5);
            text-transform: uppercase;
        }
        .card-actions button:hover {
            background: #383838;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
        }
        .card-actions button:active {
            transform: scale(0.94);
            background: #404040;
        }
        .search-bar {
            width: 100%;
            padding: 16px 20px;
            background: #2D2D2D;
            border: none;
            border-radius: 18px;
            margin-bottom: 20px;
            color: #FFF;
            font-size: 17px;
            outline: none;
            transition: background 0.3s ease, box-shadow 0.3s ease;
            box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.4);
        }
        .search-bar:focus {
            background: #383838;
            box-shadow: 0 0 15px rgba(0, 213, 75, 0.5);
        }
        .nav-bar {
            background: #1A1A1A;
            padding: 12px 0;
            display: flex;
            justify-content: space-around;
            border-top: 1px solid #2D2D2D;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            max-width: 400px;
            margin: 0 auto;
            z-index: 60;
            box-shadow: 0 -6px 18px rgba(0, 0, 0, 0.8);
        }
        .nav-item {
            background: none;
            border: none;
            color: #757575;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 6px;
            transition: color 0.3s ease, transform 0.2s ease;
        }
        .nav-item .nav-icon {
            font-size: 28px;
            margin-bottom: 4px;
            transition: color 0.3s ease, transform 0.3s ease;
        }
        .nav-item.active .nav-icon {
            color: #00D54B;
            transform: scale(1.2);
            text-shadow: 0 0 10px rgba(0, 213, 75, 0.4);
        }
        .nav-item:hover .nav-icon {
            color: #A9A9A9;
            transform: scale(1.1);
        }
        .nav-item:active {
            transform: scale(0.9);
        }
        .popup {
            display: none;
            background: rgba(17, 17, 17, 0.95);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            height: 100%;
            z-index: 70;
            overflow-y: auto;
            animation: slideUp 0.5s ease-out;
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .popup.active {
            display: block;
        }
        .popup-header {
            display: flex;
            justify-content: space-between;
            padding: 24px;
            border-bottom: 1px solid #2D2D2D;
            background: #1A1A1A;
            position: sticky;
            top: 0;
            z-index: 71;
        }
        .close-btn {
            background: none;
            border: none;
            color: #FFF;
            font-size: 28px;
            cursor: pointer;
            transition: transform 0.3s ease, color 0.3s ease;
        }
        .close-btn:hover {
            color: #00D54B;
            transform: rotate(90deg);
        }
        .close-btn:active {
            transform: scale(0.9) rotate(90deg);
        }
        .popup-content {
            padding: 24px;
            max-height: 70vh;
            overflow-y: auto;
            background: linear-gradient(135deg, #1F1F1F, #2B2B2B);
            border-radius: 20px;
            margin: 24px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6);
        }
        .popup-content h2 {
            font-size: 24px;
            font-weight: 800;
            color: #FFF;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .popup-content p {
            font-size: 17px;
            color: #E6E6E6;
            margin: 16px 0;
            line-height: 1.7;
        }
        .popup-content p span {
            color: #00D54B;
            font-weight: 600;
        }
        #amount-display {
            font-size: 80px;
            text-align: center;
            color: #FFF;
            margin: 48px 0;
            font-weight: 800;
            transition: color 0.3s ease, text-shadow 0.3s ease;
        }
        #amount-display.active {
            color: #00D54B;
            text-shadow: 0 0 15px rgba(0, 213, 75, 0.6);
        }
        .numeric-pad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 18px;
            margin: 24px;
            padding-bottom: 36px;
        }
        .numeric-pad button {
            background: #2D2D2D;
            border: none;
            padding: 24px;
            border-radius: 18px;
            cursor: pointer;
            font-size: 34px;
            color: #FFF;
            transition: background 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.5);
            font-weight: 700;
        }
        .numeric-pad button:hover {
            background: #383838;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
        }
        .numeric-pad button:active {
            transform: scale(0.93);
            background: #404040;
        }
        .transaction-buttons {
            display: flex;
            justify-content: space-between;
            margin: 0 24px 60px;
            gap: 18px;
        }
        .transaction-buttons button {
            background: #2D2D2D;
            color: #FFF;
            border: none;
            padding: 18px;
            border-radius: 18px;
            width: 48%;
            cursor: pointer;
            font-size: 20px;
            font-weight: 800;
            transition: background 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.5);
            text-transform: uppercase;
        }
        .transaction-buttons button:hover {
            background: #383838;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
        }
        .transaction-buttons button:active {
            transform: scale(0.94);
            background: #404040;
        }
        .recipient-list {
            display: flex;
            flex-direction: column;
            gap: 18px;
            padding: 24px;
        }
        .recipient-item {
            display: flex;
            align-items: center;
            padding: 16px;
            background: linear-gradient(135deg, #1F1F1F, #2B2B2B);
            border-radius: 18px;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.5);
        }
        .recipient-item .contact-item {
            margin-right: 16px;
        }
        .recipient-item span {
            font-size: 18px;
            color: #E6E6E6;
            font-weight: 500;
        }
        .recipient-item:hover {
            background: #252525;
            transform: translateX(6px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
        }
        .recipient-item:active {
            transform: scale(0.97);
            background: #2C2C2C;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="app-container" id="mainContent">
        <!-- Header -->
        <div class="header">
            <h1 id="headerTitle">Money</h1>
            <div class="profile-icon" onclick="showProfilePopup()">JD</div>
        </div>

        <!-- Money Section -->
        <div class="section active" id="moneySection">
            <div class="card">
                <div>
                    <div class="card-title">Cash Balance</div>
                    <div class="card-amount">$1</div>
                    <div class="card-subtext">Account: ****2275 Routing: ****663</div>
                </div>
                <span class="card-subtext">></span>
            </div>
            <div class="action-buttons">
                <button>Add Money</button>
                <button>Withdraw</button>
            </div>
            <div class="card">
                <div>
                    <div class="card-title">Paychecks</div>
                    <div class="card-amount">$128</div>
                    <div class="card-subtext">This Month</div>
                </div>
                <span class="card-subtext">></span>
            </div>
            <div class="card">
                <div class="card-title">Save & Invest</div>
            </div>
            <div class="card">
                <div>
                    <div class="card-title">Savings</div>
                    <div class="card-amount">$0</div>
                    <div class="card-subtext">1.5% Interest</div>
                </div>
                <span class="card-subtext">$</span>
            </div>
            <div class="card">
                <div>
                    <div class="card-title">Bitcoin</div>
                    <div class="card-amount">$0</div>
                    <div class="card-subtext">0.00% Today</div>
                </div>
                <span class="card-subtext">B</span>
            </div>
            <div class="card">
                <div>
                    <div class="card-title">Stocks</div>
                    <div class="card-amount">$0</div>
                </div>
                <span class="card-subtext">^</span>
            </div>
        </div>

        <!-- Discover Section -->
        <div class="section" id="discoverSection">
            <input type="text" class="search-bar" placeholder="Search">
            <div class="contact-list">
                <div class="contact-item" style="background: #00D54B;">S</div>
                <div class="contact-item" style="background: #EA0B8C;">S</div>
                <div class="contact-item" style="background: #FF69B4;">M</div>
                <div class="contact-item" style="background: #FF1493;">C</div>
                <div class="contact-item" style="background: #FFA500;">W</div>
            </div>
            <div class="card">
                <div class="card-title">Recommended Offers</div>
            </div>
            <div class="offer">
                <div class="contact-item lyft"></div>
                <span>Lyft 10% Off</span>
                <span class="card-subtext">></span>
            </div>
            <div class="offer">
                <div class="contact-item starbucks"><i class="fa-solid fa-coffee"></i></div>
                <span>Starbucks 5% Off</span>
                <span class="card-subtext">></span>
            </div>
            <div class="offer">
                <div class="contact-item seven-eleven"><i class="fa-solid fa-store"></i></div>
                <span>7-Eleven 5% Off</span>
                <span class="card-subtext">></span>
            </div>
            <div class="offer">
                <div class="contact-item doordash"><i class="fa-solid fa-utensils"></i></div>
                <span>DoorDash 15% Off</span>
                <span class="card-subtext">></span>
            </div>
            <button class="show-more">Show More Offers</button>
        </div>

        <!-- Activity Section -->
        <div class="section" id="activitySection">
            <input type="text" class="search-bar" placeholder="Search Transactions">
            <div class="contact-list">
                <div class="contact-item" style="background: #00D54B;">+</div>
                <div class="contact-item" style="background: #9370DB;">🚗</div>
                <div class="contact-item" style="background: #FFFFFF;">U</div>
                <div class="contact-item" style="background: #9370DB;">🏋️</div>
                <div class="contact-item" style="background: #FF0000;">🍎</div>
            </div>
            <div class="card">
                <div class="card-title">Pending</div>
            </div>
            <div class="activity-item" onclick="showTransactionPopup('CSC Serviceworks Ultra 2', '$2', 'Cash App Card 9:05 PM', 'Pending service charge')">
                <div class="contact-item" style="background: #9370DB;">🚗</div>
                <div>
                    <div>CSC Serviceworks Ultra 2</div>
                    <div class="card-subtext">Cash App Card 9:05 PM</div>
                </div>
                <div>$2</div>
            </div>
            <div class="activity-item" onclick="showTransactionPopup('Uber', '$10', 'Cash App Card 6:07 PM', 'Ride payment')">
                <div class="contact-item" style="background: #FFFFFF;">U</div>
                <div>
                    <div>Uber</div>
                    <div class="card-subtext">Cash App Card 6:07 PM</div>
                </div>
                <div>$10</div>
            </div>
            <div class="card">
                <div class="card-title">Today</div>
            </div>
            <div class="activity-item" onclick="showTransactionPopup('New Device Login', '', 'Verified Today at 9:07 PM', 'Security verification')">
                <div class="contact-item" style="background: #00D54B;">✔️</div>
                <div>
                    <div>New Device Login</div>
                    <div class="card-subtext">Verified Today at 9:07 PM</div>
                </div>
                <span class="card-subtext">></span>
            </div>
        </div>

        <!-- Card Section -->
        <div class="section" id="cardSection">
            <div class="card-image">
                <div class="card-details">**** **** **** 7099</div>
                <div class="card-subtext">CVV 016 EXP 01/29</div>
                <span class="visa"><i class="fa-brands fa-cc-visa"></i></span>
            </div>
            <div class="card-actions">
                <button>Lock Card</button>
                <button>Copy Number</button>
            </div>
            <div class="card">
                <div>
                    <div class="card-title">Explore All Offers</div>
                    <div class="card-subtext">Instant Discounts</div>
                </div>
                <span class="card-subtext">></span>
            </div>
            <div class="card">
                <div>
                    <div class="card-title">My Spend</div>
                    <div class="card-subtext">Insights & Activity $140 in May</div>
                </div>
                <span class="card-subtext">></span>
            </div>
        </div>

        <!-- Keypad Section -->
        <div class="section" id="keypadSection" style="display: none;">
            <div id="amount-display">$0</div>
            <div class="numeric-pad">
                <button onclick="updateAmount('1')">1</button>
                <button onclick="updateAmount('2')">2</button>
                <button onclick="updateAmount('3')">3</button>
                <button onclick="updateAmount('4')">4</button>
                <button onclick="updateAmount('5')">5</button>
                <button onclick="updateAmount('6')">6</button>
                <button onclick="updateAmount('7')">7</button>
                <button onclick="updateAmount('8')">8</button>
                <button onclick="updateAmount('9')">9</button>
                <button onclick="updateAmount('.')">.</button>
                <button onclick="updateAmount('0')">0</button>
                <button onclick="clearAmount()">←</button>
            </div>
            <div class="transaction-buttons">
                <button onclick="showRecipientPopup('request')">Request</button>
                <button onclick="showRecipientPopup('pay')">Pay</button>
            </div>
        </div>

        <!-- Profile Popup -->
        <div class="popup" id="profilePopup">
            <div class="popup-header">
                <button class="close-btn" onclick="hidePopup('profilePopup')">✕</button>
                <h1>Profile</h1>
                <button class="close-btn" style="visibility: hidden;"></button>
            </div>
            <div class="popup-content">
                <h2>Account Details</h2>
                <p>Cashtag: <span>$User123</span></p>
                <p>Joined: <span>January 2023</span></p>
                <p>Email: <span>user@example.com</span></p>
                <p>Phone: <span>(555) 123-4567</span></p>
            </div>
        </div>

        <!-- Transaction Popup -->
        <div class="popup" id="transactionPopup">
            <div class="popup-header">
                <button class="close-btn" onclick="hidePopup('transactionPopup')">←</button>
                <h1>Transaction</h1>
                <button class="close-btn" style="visibility: hidden;"></button>
            </div>
            <div class="popup-content" id="transactionDetails"></div>
        </div>

        <!-- Recipient Popup -->
        <div class="popup" id="recipientPopup">
            <div class="popup-header">
                <button class="close-btn" onclick="hidePopup('recipientPopup')">✕</button>
                <h1>Select Recipient</h1>
                <button class="close-btn" style="visibility: hidden;"></button>
            </div>
            <div class="popup-content">
                <div class="recipient-list">
                    <div class="recipient-item" onclick="selectRecipient('Recipient1')">
                        <div class="contact-item" style="background: #00D54B;">R1</div>
                        <span>Recipient1</span>
                    </div>
                    <div class="recipient-item" onclick="selectRecipient('Recipient2')">
                        <div class="contact-item" style="background: #EA0B8C;">R2</div>
                        <span>Recipient2</span>
                    </div>
                    <div class="recipient-item" onclick="addRecipient()">
                        <span>Add New Recipient</span>
                    </div>
                </div>
                <button class="show-more" onclick="confirmTransaction()">Confirm</button>
            </div>
        </div>

        <!-- Navigation Bar -->
        <div class="nav-bar">
            <button class="nav-item active" data-tab="moneySection" onclick="updateNavBalance()">
                <span class="nav-icon" id="balanceIcon">$1</span>
            </button>
            <button class="nav-item" data-tab="cardSection">
                <span class="nav-icon"><i class="fa-solid fa-credit-card"></i></span>
            </button>
            <button class="nav-item" data-tab="keypadSection">
                <span class="nav-icon">$</span>
            </button>
            <button class="nav-item" data-tab="discoverSection">
                <span class="nav-icon"><i class="fa-solid fa-magnifying-glass"></i></span>
            </button>
            <button class="nav-item" data-tab="activitySection">
                <span class="nav-icon"><i class="fa-regular fa-clock"></i></span>
            </button>
        </div>
    </div>

    <script>
        let balance = 1.51;
        let transactions = [
            { name: 'CSC Serviceworks Ultra 2', amount: '$2', details: 'Cash App Card 9:05 PM', fullDetails: 'Pending service charge, ID: SVC123, Date: May 20, 2025' },
            { name: 'Uber', amount: '$10', details: 'Cash App Card 6:07 PM', fullDetails: 'Ride payment, ID: UBER456, Date: May 20, 2025' }
        ];
        let selectedRecipient = '';
        let transactionType = 'pay';

        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => {
                document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                const tab = item.getAttribute('data-tab');
                document.getElementById(tab).classList.add('active');
                item.classList.add('active');
                document.getElementById('headerTitle').textContent = tab === 'moneySection' ? 'Money' :
                    tab === 'activitySection' ? 'Activity' :
                    tab === 'cardSection' ? 'Card' : tab === 'discoverSection' ? 'Discover' : 'Send/Request';
                hideAllPopups();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });

        function updateNavBalance() {
            document.getElementById('balanceIcon').textContent = `$${Math.floor(balance)}`;
        }

        // Popup Management
        function showPopup(popupId) {
            hideAllPopups();
            document.getElementById(popupId).classList.add('active');
            document.getElementById('mainContent').style.overflow = 'hidden';
        }

        function hidePopup(popupId) {
            document.getElementById(popupId).classList.remove('active');
            document.getElementById('mainContent').style.overflow = 'auto';
            if (popupId === 'recipientPopup') clearAmount();
        }

        function hideAllPopups() {
            document.querySelectorAll('.popup').forEach(popup => popup.classList.remove('active'));
        }

        // Profile Popup
        function showProfilePopup() {
            showPopup('profilePopup');
        }

        // Transaction Popup
        function showTransactionPopup(name, amount, details, fullDetails) {
            document.getElementById('transactionDetails').innerHTML = `
                <h2>${name}</h2>
                <p>Amount: <span>${amount}</span></p>
                <p>Details: <span>${details}</span></p>
                <p>Info: <span>${fullDetails}</span></p>
            `;
            showPopup('transactionPopup');
        }

        // Keypad Functions
        let amountValue = '0';
        function updateAmount(value) {
            let display = document.getElementById('amount-display');
            if (value === '←') {
                amountValue = amountValue.slice(0, -1) || '0';
            } else if (value === '.' && amountValue.includes('.')) {
                return;
            } else if (amountValue === '0' && value !== '.') {
                amountValue = value;
            } else {
                amountValue += value;
            }
            display.textContent = '$' + amountValue;
            display.classList.add('active');
        }

        function clearAmount() {
            amountValue = '0';
            document.getElementById('amount-display').textContent = '$0';
            document.getElementById('amount-display').classList.remove('active');
        }

        // Recipient Popup
        function showRecipientPopup(type) {
            transactionType = type;
            showPopup('recipientPopup');
        }

        function selectRecipient(recipient) {
            selectedRecipient = recipient;
        }

        function addRecipient() {
            const newRecipient = prompt('Enter new recipient name:');
            if (newRecipient) {
                selectedRecipient = newRecipient;
                console.log(`Added ${newRecipient}`);
            }
        }

        function confirmTransaction() {
            if (!selectedRecipient) {
                alert('Please select a recipient');
                return;
            }
            let amount = parseFloat(amountValue) || 0;
            if (amount <= 0) {
                alert('Please enter a valid amount');
                return;
            }
            if (transactionType === 'pay' && amount > balance) {
                alert('Insufficient funds!');
                return;
            }
            const now = new Date();
            const dateStr = `${now.toLocaleString('en-US', { hour: '2-digit', minute: '2-digit', timeZoneName: 'short' })}`;
            transactions.push({
                name: `${transactionType === 'pay' ? 'Sent to' : 'Requested from'} ${selectedRecipient}`,
                amount: `$${Math.floor(amount)}`,
                details: `Cash App ${dateStr}`,
                fullDetails: `${transactionType === 'pay' ? 'Sent' : 'Requested'} to ${selectedRecipient}, Amount: $${Math.floor(amount)}, Date: ${dateStr}, ID: TX${Math.random().toString(36).substr(2, 5)}`
            });
            if (transactionType === 'pay') balance -= amount;
            updateNavBalance();
            hidePopup('recipientPopup');
            document.getElementById('moneySection').classList.add('active');
            alert(`${transactionType === 'pay' ? 'Paid' : 'Requested'} $${Math.floor(amount)} to ${selectedRecipient} successfully!`);
        }
    </script>
</body>
</html>
